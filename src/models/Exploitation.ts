
import Sequelize = require("sequelize");
import sequelize = require("../services/sequelize");
import { Adresse } from "./Adresse";
import { Ingredient } from "./Ingredient";
import { Personne } from "./Personne";

export class Exploitation {
  // Relations
  public static fromPeronne;
  public static fromIngredient;
  public static toAdresse;

  public static model = sequelize.getInstance().define("exploitation", {
    nom: { type: Sequelize.STRING(255), allowNull: false }
  });

  public static alterTable() {
    Exploitation.fromPeronne = Exploitation.model.hasMany(Personne.model);
    Exploitation.fromIngredient = Exploitation.model.hasMany(Ingredient.model);
    Exploitation.toAdresse = Exploitation.model.belongsTo(Adresse.model);
  }
}
